!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Morpher=t()}(this,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return(c=u()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&s(r,n.prototype),r}).apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return c(e,arguments,o(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s(i,e)})(e)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){var t=u();return function(){var n,i=o(e);if(t){var r=o(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var p=function(e){var t={exports:{}};return e(t,t.exports),t.exports}((function(e,t){var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}));l.fetch||(l.fetch=p);var d=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),i(this,"baseUrl","https://ws3.morpher.ru"),i(this,"token",null),i(this,"timeoutMs",3e3),void 0!==n.baseUrl&&(-1!==n.baseUrl.indexOf("http")?this.baseUrl=n.baseUrl:this.baseUrl="http://"+n.baseUrl),void 0!==n.token&&(this.token=n.token),void 0!==n.timeoutMs&&(this.timeoutMs=n.timeoutMs)}return n(t,[{key:"request",value:function(e,t,n){var i=this,r=this.buildUrl(e,t),o={method:n,headers:{"Content-Type":this.isPost(n)?"application/x-www-form-urlencoded":"application/json",Accept:"application/json"}};return new Promise((function(e,t){var n=setTimeout((function(){return t(new Error("TIMEOUT"))}),i.timeoutMs);i.fetcher(r,o).then((function(t){clearTimeout(n),e(t)})).catch((function(e){clearTimeout(n),t(e)}))}))}},{key:"buildUrl",value:function(e,t){var n=new URL(e,this.baseUrl);return t.forEach((function(e,t){n.searchParams.append(t,e)})),this.token&&n.searchParams.append("token",this.token),n.toString()}},{key:"_fetcher",value:function(e,t){return fetch(e,t)}},{key:"fetcher",get:function(){return this._fetcher},set:function(e){this._fetcher=e}},{key:"isPost",value:function(e){return e.toUpperCase()===t.METHOD_POST}}]),t}();i(d,"METHOD_GET","GET"),i(d,"METHOD_DELETE","DELETE"),i(d,"METHOD_POST","POST");var v=d,m=function t(n){e(this,t),void 0!==n["И"]&&(this.nominative=n["И"],this["именительный"]=this.nominative),this.genitive=n["Р"],this["родительный"]=this.genitive,this.dative=n["Д"],this["дательный"]=this.dative,this.accusative=n["В"],this["винительный"]=this.accusative,this.instrumental=n["Т"],this["творительный"]=this.instrumental,this.prepositional=n["П"],this["предложный"]=this.prepositional,void 0!==n["П_о"]&&(this.prepositional_O=n["П_о"],this["предложный_О"]=this.prepositional_O)},w=function t(n){e(this,t),this.name=n["И"],this["имя"]=this.name,this.surname=n["Ф"],this["фамилия"]=this.surname,this.patronymic=n["О"],this["отчество"]=this.patronymic},y=function(t){r(i,t);var n=h(i);function i(t){var r;return e(this,i),r=n.call(this,t),void 0!==t["род"]&&(r.gender=t["род"],r["род"]=r.gender),void 0!==t["множественное"]&&(r.plural=new m(t["множественное"]),r["множественное"]=r.plural),void 0!==t["где"]&&(r.where=t["где"],r.locative=r.where,r.gde=r.where,r["где"]=r.where),void 0!==t["куда"]&&(r.where_to=t["куда"],r.kuda=r.where_to,r["куда"]=r.where_to),void 0!==t["откуда"]&&(r.where_from=t["откуда"],r.whence=r.where_from,r.otkuda=r.where_from,r["откуда"]=r.where_from),void 0!==t["ФИО"]&&(r.fullName=new w(t["ФИО"]),r["фио"]=r.fullName),r}return i}(m),b=function t(n){e(this,t),this.n=new m(n.n),this.unit=new m(n.unit)},g=function(t){r(i,t);var n=h(i);function i(t,r){var o;return e(this,i),(o=n.call(this,t)).code=r,o}return i}(a(Error)),P=function(){function t(n){e(this,t),i(this,"prefix","/russian"),this.communicator=n}return n(t,[{key:"declension",value:function(e){var t=new Map;t.set("s",e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.length>0&&t.set("flags",i.join(","));var o=this.prefix+"/declension";return this.communicator.request(o,t,v.METHOD_GET).then((function(e){return e.json()})).then((function(e){if(e.message&&e.code)throw new g(e.message,e.code);return new y(e)}))}},{key:"spell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Map;n.set("n",e),n.set("unit",t);var i=this.prefix+"/spell";return this.communicator.request(i,n,v.METHOD_GET).then((function(e){return e.json()})).then((function(e){if(e.message&&e.code)throw new g(e.message,e.code);return new b(e)}))}}]),t}(),_=function t(n){e(this,t),void 0!==n.A&&(this.nominative=n.A,this["атау"]=this.nominative),this.genitive=n["І"],this["ілік"]=this.genitive,this.dative=n["Б"],this["барыс"]=this.dative,this.accusative=n["Т"],this["табыс"]=this.accusative,this.ablative=n["Ш"],this["шығыс"]=this.ablative,this.locative=n["Ж"],this["жатыс"]=this.locative,this.instrumental=n["К"],this["көмектес"]=this.instrumental},E=function(t){r(i,t);var n=h(i);function i(t){var r;return e(this,i),(r=n.call(this,t)).firstPerson=new _(t["менің"]),r["менің"]=r.firstPerson,r.secondPerson=new _(t["сенің"]),r["сенің"]=r.secondPerson,r.secondPersonRespectful=new _(t["сіздің"]),r["сіздің"]=r.secondPersonRespectful,r.thirdPerson=new _(t["оның"]),r["оның"]=r.thirdPerson,r.firstPersonPlural=new _(t["біздің"]),r["біздің"]=r.firstPersonPlural,r.secondPersonPlural=new _(t["сендердің"]),r["сендердің"]=r.secondPersonPlural,r.secondPersonRespectfulPlural=new _(t["сіздердің"]),r["сіздердің"]=r.secondPersonRespectfulPlural,r.thirdPersonPlural=new _(t["олардың"]),r["олардың"]=r.thirdPersonPlural,r}return i}(_),T=function(t){r(i,t);var n=h(i);function i(t){var r;return e(this,i),(r=n.call(this,t)).plural=new E(t["көпше"]),r["көпше"]=r.plural,r}return i}(E),O=function(){function t(n){e(this,t),i(this,"prefix","/qazaq"),this.communicator=n}return n(t,[{key:"declension",value:function(e){var t=new Map;t.set("s",e);var n=this.prefix+"/declension";return this.communicator.request(n,t,v.METHOD_GET).then((function(e){return e.json()})).then((function(e){if(e.message&&e.code)throw new g(e.message,e.code);return new T(e)}))}}]),t}(),M=function(){function t(n){e(this,t),this.communicator=new v(n)}return n(t,[{key:"communicator",get:function(){return this._communicator},set:function(e){this._communicator=e}},{key:"russian",get:function(){return new P(this.communicator)}},{key:"qazaq",get:function(){return new O(this.communicator)}}]),t}();return i(M,"FLAG_FEMININE","feminine"),i(M,"FLAG_MASCULINE","masculine"),i(M,"FLAG_ANIMATE","animate"),i(M,"FLAG_INANIMATE","inanimate"),i(M,"FLAG_COMMON","common"),i(M,"FLAG_NAME","name"),i(M,"FLAG_NEUTER","neuter"),i(M,"FLAG_PLURAL","plural"),M}));
//# sourceMappingURL=morpher.min.js.map
